<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>The Overlay Object</title>
</head>

<body bgcolor="#FFFFFF">

<p align="center"><font color="#0000FF" size="6">Cragmyre's
Overlay Object</font></p>

<p><font color="#0000FF" size="4"><strong>Index</strong></font></p>

<ul>
    <li><a href="#legal">Disclaimer</a></li>
    <li><a href="#basics">The Basics</a></li>
    <li><a href="#conditions">Conditions</a><br>
        - Match Color<br>
        - Match Color using RGB<br>
        - Compare Color to RGB Value<br>
        - Is X,Y outside Overlay?<br>
        - Is Overlay Visible?<br>
        - Is Overlay Auto-Inking?<br>
        - Has Overlay Finished Auto-Inking?</li>
    <li><a href="#actions">Actions</a><br>
        -Update Display<br>
        - <em>Pasting</em><br>
        - Paste Object into Overlay<br>
        - Paste Overlay into Overlay<br>
        - <em>Settings</em><br>
        -&gt; Turn Debug Mode On<br>
        -&gt; Turn Debug Mode Off<br>
        -&gt; Turn Stretching On<br>
        -&gt; Turn Stretching Off<br>
        -&gt; Turn Automatic Display Update On<br>
        -&gt; Turn Automatic Display Update Off<br>
        -&gt; Turn Immediate Display Update On<br>
        -&gt; Turn Immediate Display Update Off<br>
        -&gt; Set Functions to Use Absoulte Positions<br>
        -&gt; Set Functions to Use Relative Positions<br>
        -&gt; Keep Points After Plotting Polygon<br>
        -&gt; Remove Points After Plotting Polygon <br>
        -&gt; Draw in Opaque Mode<br>
        -&gt; Draw in Transparent Mode<br>
        - <em>Ink Effect</em><br>
        -&gt; Set Ink Effect to None<br>
        -&gt; Set Ink Effect to Semi-transparency<br>
        -&gt; Set Ink Effect to Invert<br>
        -&gt; Set Ink Effect to Xor<br>
        -&gt; Set Ink Effect to And<br>
        -&gt; Set Ink Effect to Or<br>
        -&gt; Set Ink Effect to And Not<br>
        -&gt; Set Ink Effect by Number<br>
        -&gt; Set Ink Effect Value<br>
        -&gt; Enable Anti-Aliasing<br>
        -&gt; Disable Anti-Aliasing<br>
        -&gt; Start Auto-Inking<br>
        -&gt; Stop Auto-Inking<br>
        -&gt; Reverse Auto-Inking<br>
        - <em>Position</em><br>
        -&gt; Set Position in Frame<br>
        -&gt; Set X Position in Frame<br>
        -&gt; Set Y Position in Frame<br>
        -&gt; Resize Overlay<br>
        - <em>Files</em><br>
        -&gt; Load Image<br>
        -&gt; Save Image<br>
        - <em>Use Color Chooser</em><br>
        -&gt; Clear Overlay<br>
        -&gt; Flood Fill<br>
        -&gt; Change Old Color to New Color<br>
        -&gt; Set Pixel<br>
        -&gt; Draw Line<br>
        -&gt; Draw Rectangle<br>
        -&gt; Draw Ellipse<br>
        - <em>Use RGB</em><br>
        -&gt; Clear Overlay<br>
        -&gt; Flood Fill<br>
        -&gt; Change Old Color to New Color<br>
        -&gt; Set Pixel<br>
        -&gt; Draw Line<br>
        -&gt; Draw Rectangle<br>
        -&gt; Draw Ellipse<br>
        - <em>Use GetRGB (allows thickness and borders)</em><br>
        -&gt; Clear Overlay<br>
        -&gt; Flood Fill<br>
        -&gt; Change Old Color to New Color<br>
        -&gt; Set Pixel<br>
        -&gt; Draw Line<br>
        -&gt; Draw Rectangle<br>
        -&gt; Draw Ellipse<br>
        -&gt; Draw Polygon<br>
        -&gt; Draw Shape<br>
        -&gt; <em>Plotting</em><br>
        -&gt; -&gt; Add Point to Ploygon<br>
        -&gt; -&gt; Plot Ploygon<br>
        -&gt; -&gt; Plot Shape<br>
        -&gt; -&gt; Clear Points</li>
    <li><a href="#expressions">Expressions</a><br>
        - Get Red(x,y)<br>
        - Get Green(x,y)<br>
        - Get Blue(x,y)<br>
        - Get ColorIndex(x,y)<br>
        - Get No Fill Color<br>
        - Make Color Range Value<br>
        - Get Color$(x,y)<br>
        - Get RGB$(x,y)<br>
        - Get Ink Effect <br>
        - Get Ink Effect Value<br>
        - Get Auto-Inking Speed<br>
        - Get X Position of Overlay<br>
        - Get Y Position of Overlay<br>
        - Get Width of Overlay<br>
        - Get Height of Overlay<br>
        - Get Address of Overlay</li>
</ul>

<p><a name="legal"></a><font color="#0000FF" size="4"><strong>Disclaimer</strong></font></p>

<p>The author of this extension makes no claims concerning the
fitness of this extension for any purpose whatsoever, and makes
no gurantees, written or implied, of its level of security and
safety to authors or to end users in any respect. You agree to
use this extension at your own risk and to hold the author
harmless in any event. </p>

<p><a name="basics"></a><font color="#0000FF" size="4"><strong>The
Basics</strong></font></p>

<p>The Overlay Object really has a two-fold purpose. Originally,
it was designed to be an invisible &quot;overlay&quot; of your
frame. The colors in object could be used to indicate particualr
zones in your level. You could make certain things happen when
objects were in those zones (over those colors). The second
purpose, which was never the intent of the object when Cragmyre
originally made it, is to be a graphical object. By turning
visibility on, the Overlay becomes visible as a background object.
Because it is a background object, any drawing to the screen or
moving of its position forces the whole screen to be redrawn,
which can be slow, so try to use the graphical features of this
object efficiently.</p>

<p>Just a note about RGB values. If you enter values out of range
(0-255), they will be rounded to either 0 or 255.</p>

<p><a name="conditions"></a><font color="#0000FF" size="4"><strong>Conditions</strong></font></p>

<p><strong>Match Color</strong><br>
This condition retrieves the color at the specified point and
compares it to the chosen color. Before comparing, the object
rounds each color to one of the following: red, blue, green,
yellow, magenta, cyan, black, or white. (This rounding is done by
breaking both colors into RGB values and then rounding each value
to either 0 or 255. Any value less than 128 is rounded to 0, and
the rest are rounded to 255.) After the colors are rounded, the
condition compares them and returns true if the two colors are
the same.</p>

<p><strong>Match Color using RGB</strong><br>
This condition retrieves the color at the specified point and
compares it to the specified color. Before comparing, the object
rounds each color to one of the following: red, blue, green,
yellow, magenta, cyan, black, or white. (This rounding is done by
breaking both colors into RGB values and then rounding each value
to either 0 or 255. Any value less than 128 is rounded to 0, and
the rest are rounded to 255.) After the colors are rounded, the
condition compares them and returns true if the two colors are
the same.</p>

<p><strong>Compare Color to RGB Value</strong><br>
This condition retrieves the color at the specified point and
compares it to the specified color or color range. You can
specify a range of colors by using the &quot;Make Range Value&quot;
expression on the appropriate RGB values. This condition returns
true if the retrieved color is equal to the specified color or in
the specified range.</p>

<p><strong>Is X,Y outside Overlay?</strong><br>
This condition returns true if the given point is outside the
bounds of the Overlay. It treats the point as an absolute
position in the frame independent of the &quot;Use Absolute
Posistions&quot; option.</p>

<p><strong>Is Overlay Visible?<br>
</strong>This condition returns true if the Overlay is visible.</p>

<p><strong>Is Overlay Auto-Inking?</strong><br>
This condition returns true if the Overlay is currently auto-inking.</p>

<p><strong>Has Overlay Finished Auto-Inking?<br>
</strong>Events with this condition are executed as soon as auto-inking
has finished (when the ink effect value has reached 0 or 128).
You can use this condition in conjunction with the &quot;Reverse
Auto-Inking&quot; action to create a ping-pong type of fade
effect.</p>

<p><a name="actions"></a><font color="#0000FF" size="4"><strong>Actions</strong></font></p>

<p><strong>Update Display</strong><br>
This action forces MMF to immediately update the screen, showing
any changes made to the Overlay since the last screen update.</p>

<p><strong>Paste Object into Overlay<br>
</strong>This action pastes the specified object into the Overlay.</p>

<p><strong>Paste Overlay into Overlay<br>
</strong>This action pastes the specified region of the specified
Overlay into the specified region of the Overlay. If the
destination width or height are 0, the value is adjusted to the
width or height of the source. The source Overlay is specified by
fixed value. Do not use values that are not retrieved from the
&quot;Get Fixed Value&quot; expression. The source and
destination Overlays may be the same.</p>

<p><strong>Show/Hide Overlay</strong><br>
These actions toggle the visibility of the Overlay.</p>

<p><strong>Turn Stretching On/Off</strong><br>
This action toggles Stretching. If Stretching is enabled, the
Overlay is resized and repositioned to cover the entire frame.
While enabled, change of position actions have no immediate
effect. Those changes are stored, however, and are applied when
Streching is disabled. When Stretching is disabled, the Overlay
returns to its original size and position (unless the position
was changed while Stretching was enabled, in which case it
returns to the changed position).</p>

<p><strong>Turn Automatic Display Update On/Off<br>
</strong>This action toggles the automatic display updates. If
this is enabled, at the end of every program loop, Overlay checks
to see if it has been visibly changed (in other words, if it
needs to update the display). If it has been changed, Overlay
automatically redraws the frame. If this option is disabled,
Overlay will not update the display at the end of program loops.</p>

<p><strong>Turn Immediate Display Update On/Off</strong><br>
This action toggles immediate display updates. If this is
enabled, Overlay will immediately force MMF to update the screen
whenever the Overlay has been visibly modified. This method is
very inefficient. It's use to not recommended. If it is disabled,
the screen will not be immediately updated, which is the best way
to go.</p>

<p><strong>Set Functions to Use Absoulte Positions</strong><br>
This action sets the Overlay's functions to use absolute
positions. This means that when this is enabed, coordinates
passed to functions are relative to the top-left corner of the
frame.</p>

<p><strong>Set Functions to Use Relative Positions</strong><br>
This action sets the Overlay's functions to use relative
positions. This means that when this is enabed, coordinates
passed to functions are relative to the top-left corner of the
Overlay object. (Note: Some conditions and actions are exempt
from this setting.)</p>

<p><strong>Keep Points After Plotting Polygon</strong><br>
This action sets the &quot;Plot Polygon&quot; function such that
it does not erase the points of the polygon after plotting it.</p>

<p><strong>Remove Points After Plotting Polygon<br>
</strong>This action sets the &quot;Plot Polygon&quot; function
such that it erases the points of the polygon after plotting it.
The function will still reserve the memory for however many
points were used.</p>

<p><strong>Draw in Opaque Mode</strong><br>
This action sets Overlay to Opaque Mode. When this is enabled,
RGB(0,0,0) is black.</p>

<p><strong>Draw in Transparent Mode</strong><br>
This action sets Overlay to Transparent Mode. When this is
enabled, RGB(0,0,0) is transparent. If you need black, use RGE(1,0,0)
or something like that.</p>

<p><strong>Set Ink Effect to None</strong><br>
This action sets the ink effect to None. If there is no ink
effect, the Overlay is drawn normally.</p>

<p><strong>Set Ink Effect to Semi-transparency</strong><br>
This action sets the ink effect to Semi-transparency. This will
cause the Overlay to become translucent, enabling background
objects behind the Overlay to become partially visible. The ink
effect value determines to what degree the Overlay will be
translucent.</p>

<p><strong>Set Ink Effect to Invert</strong><br>
This action sets the ink effect to Invert. This will cause the
Overlay's colors to become inverted when drawn on the screen.
This does not affect the internal color make-up of the object.</p>

<p><strong>Set Ink Effect to Xor</strong><br>
This action sets the ink effect to Xor. When the Overlay is being
drawn, instead of each color overwriting the current background
color, the colors are Xored, creating a new color.</p>

<p><strong>Set Ink Effect to And</strong><br>
This action sets the ink effect to And. When the Overlay is being
drawn, instead of each color overwriting the current background
color, the colors are Anded, creating a new color.</p>

<p><strong>Set Ink Effect to Or</strong><br>
This action sets the ink effect to Or. When the Overlay is being
drawn, instead of each color overwriting the current background
color, the colors are Ored, creating a new color.</p>

<p><strong>Set Ink Effect to And Not</strong><br>
This action sets the ink effect to And Not. When the Overlay is
being drawn, instead of each color overwriting the current
background color, the Overlay color is Anded with the inverse of
the background color, creating a new color.</p>

<p><strong>Set Ink Effect by Number<br>
</strong>This action sets the ink effect to the effect related to
the specified number:<br>
0: None<br>
1: Semi-transparency<br>
2: Invert<br>
3: Xor<br>
4: And<br>
5: Or<br>
6: And Not</p>

<p><strong>Set Ink Effect Value</strong><br>
This action sets the ink effect value to the specified value. If
the number is outside the range of 0-128, it is rounded. This
value may or may not be used by the current ink effect.</p>

<p><strong>Enable Anti-Aliasing</strong><br>
This action enables anti-aliasing of the Overlay. It is not a
true anti-alias. The contours of the Overlay are simply blurred.</p>

<p><strong>Disable Anti-Aliasing<br>
</strong>This action disables anti-aliasing of the Overlay.</p>

<p><strong>Start Auto-Inking</strong><br>
This action begins auto-inking using the specified speed. Auto-inking
adds the given speed, which may be neagtive and/or floating
point, to the ink effect value every MMF program loop. You can
use it to create fading effects. It will automatically stop when
the ink effect value reaches 0 or 128.</p>

<p><strong>Stop Auto-Inking</strong><br>
This action stops the auto-inking. It does not change the speed,
which can be retrieved if you wish to resume the effect at the
same speed.</p>

<p><strong>Reverse Auto-Inking<br>
</strong>This action reverses the direction of the auto-inking.
If the auto-inking was stopped, this action resumes it.</p>

<p><strong>Set Position in Frame</strong><br>
This action sets the Overlay's position in the frame. It treats
the point as an absolute position in the frame independent of the
&quot;Use Absolute Posistions&quot; option. If Stretching is
enabled, the change of position will occur when that option is
disabled.</p>

<p><strong>Set X Position in Frame</strong><br>
This action sets the Overlay's X position in the frame. It treats
the position as an absolute position in the frame independent of
the &quot;Use Absolute Posistions&quot; option. If Stretching is
enabled, the change of position will occur when that option is
disabled.</p>

<p><strong>Set Y Position in Frame</strong><br>
This action sets the Overlay's Y position in the frame. It treats
the position as an absolute position in the frame independent of
the &quot;Use Absolute Posistions&quot; option. If Stretching is
enabled, the change of position will occur when that option is
disabled.</p>

<p><strong>Resize Overlay</strong><br>
This action resizes the Overlay to the specified width and
height, stretching the current image to the new size.</p>

<p><strong>Load Image</strong><br>
This action loads the specified Bitmap file. If Stretching is
enabled, the image is stretched to fir the frame. Otherwise, the
Overlay is resized to fit the image.</p>

<p><strong>Save Image</strong><br>
This action saves the current image data to a Bitmap file.</p>

<p><em><strong>Use Color Chooser</strong></em><br>
These actions allow you to specify the color to be used by
choosing it from the color selector.</p>

<p><em><strong>Use RGB</strong></em><br>
These actions allow you to specify the color to be used by giving
RGB values.</p>

<p><em><strong>Use GetRGB</strong></em><em><br>
</em>These actions all you to specify the color using MMF's built-in
GetRGB(R,G,B) function. Additionally, these actions allow some
new features to the normal drawing actions.</p>

<p><strong>Clear Overlay</strong><br>
This action fills the entire Overlay with the specified color.</p>

<p><strong>Flood Fill</strong><br>
This action fills in the region containing the specified point
with the specified color. A region consists of a blob of a single
color.</p>

<p><strong>Change Old Color to New Color</strong><br>
This actions replaces all occurences of one color with a new
color.</p>

<p><strong>Set Pixel</strong><br>
This action sets the pixel at the specified point to the
specified color.</p>

<p><strong>Draw Line</strong><br>
This action draws a line of a specified color between two points.<br>
<em>Use GetRGB</em>: Additionally, you can specify the width of
the line.</p>

<p><strong>Draw Rectangle</strong><br>
This action draws a rectangle of the specified color.<br>
<em>Use GetRGB</em>: Additionally, you can specify the color and
width of the outline. You can also use the No Fill Color to draw
just an outline.</p>

<p><strong>Draw Ellipse<br>
</strong>This action draws an ellipse of the specified color.<br>
<em>Use GetRGB</em>: Additionally, you can specify the color and
width of the outline. You can also use the No Fill Color to draw
just an outline.</p>

<p><strong>Draw Polygon</strong><br>
This action (which is only under <em>Use GetRGB</em>) allows you
to draw any arbitrary polygon with a specified outline size and
color. You can also use the No Fill Color to draw just an outline.
You specify the polygon to be drawn by creating a string
containing the points of the vertices of the polygon. The string
is of the format &quot;(x1,y1) (x2,y2) (x3,y3)&quot;... For
example, you can draw a square with side length 50 at the origin
using &quot;(0,0) (0,50) (50,50) (50,0)&quot;.</p>

<p><strong>Draw Shape</strong><br>
This action (which is only under <em>Use GetRGB</em>) allows you
to draw any arbitrary shape with a specified outline size and
color. You can also use the No Fill Color to draw just an outline.
You specify the shape to be drawn by creating a string containing
the points of the vertices of the shape. The string is of the
format &quot;(x1,y1) (x2,y2) (x3,y3)&quot;... For example, you
can draw a square with side length 50 at the origin using &quot;(0,0)
(0,50) (50,50) (50,0)&quot;. These points are sorted such that no
two drawn segments will intersect. The sorting algorithm is
rather slow (about order n<sup>n+2</sup>), so it may seem like it
freezes when using many points.</p>

<p><strong>Add Point to Plot</strong><br>
This action adds the specified point to the current plot.</p>

<p><strong>Plot Ploygon</strong><br>
This action plots the specified polygon with a specified outline
size and color. You can also use the No Fill Color to draw just
an outline. The polygon uses all of the points added using &quot;Add
Points to Polygon&quot; since the last &quot;Plot Polygon&quot; (if
set to remove the points after plotting) <em>or</em> &quot;Clear
Points&quot; action.</p>

<p><strong>Plot Shape</strong><br>
This action plots the specified shape with a specified outline
size and color. You can also use the No Fill Color to draw just
an outline. The shape uses all of the points added using &quot;Add
Points to Plot&quot; since the last &quot;Plot Polygon&quot; or
&quot;Plot Shape&quot; (if set to remove the points after
plotting) <em>or</em> &quot;Clear Points&quot; action. The points
are sorted such that no two drawn segments will intersect. The
sorting algorithm is rather slow (about order n<sup>n+2</sup>),
so it may seem like it freezes when using many points.</p>

<p><strong>Clear Points<br>
</strong>This action clears all points from the polygon and frees
up the memory they used. You should only use this action if you
create many points infrequently. For reference, 1000 points used
in a single polygon will reserve about 10 KB of memory (which
isn't that much).</p>

<p><a name="expressions"></a><font color="#0000FF" size="4"><strong>Expressions</strong></font></p>

<p><strong>Get Red(x,y)</strong><br>
<em>ovlGetRed(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns the red RGB value of the color at the
specified point.</p>

<p><strong>Get Green(x,y)</strong><br>
<em>ovlGetGreen(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns the green RGB value of the color at the
specified point.</p>

<p><strong>Get Blue(x,y)</strong><br>
<em>ovlGetBlue(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns the blue RGB value of the color at the
specified point.</p>

<p><strong>Get ColorIndex(x,y)</strong><br>
<em>ovlGetColorIndex(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns the color index value of the color at the
specified point.</p>

<p><strong>Get No Fill Color<br>
</strong><em>ovlNoFillColor(&quot;Overlay&quot;)</em><br>
This expression retruns the color index of the No Fill Color.
This index is simply -1.</p>

<p><strong>Make Color Range Value</strong><br>
<em>ovlColorRange(&quot;Overlay&quot;, First Color, Last Color)</em><br>
This expression returns the color range value for the range
beginning with <em>First Color</em> and ending with <em>Last
Color</em>, inclusive.</p>

<p><strong>Get Color$(x,y)</strong><br>
<em>ovlGetColor$(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns a string containing the name of the color
at the specified point: Transparent, Red, Blue, Green, Yellow,
Magenta, Cyan, Black, or White. It returns &quot;Not Found&quot;
if the point is out of bounds.</p>

<p><strong>Get RGB$(x,y)</strong><br>
<em>ovlGetRGB$(&quot;Overlay&quot;, X, Y)</em><br>
This expression returns a string containing the RGB values
(&quot;RGB(<em>R</em>,<em>G</em>,<em>B</em>)&quot;) of the color
at the specified point. It returns &quot;Not Found&quot; if the
point is out of bounds.</p>

<p><strong>Get Ink Effect<br>
</strong><em>ovlGetInkEffect(&quot;Overlay&quot;)</em><br>
This expression returns the current ink effect. See the &quot;Set
Ink Effect by Number&quot; action for what the returned number
means.</p>

<p><strong>Get Ink Effect Value<br>
</strong><em>ovlGetInkValue(&quot;Overlay&quot;)</em><br>
This expression returns the current ink effect value.</p>

<p><strong>Get Auto-Inking Speed<br>
</strong><em>ovlGetInkSpeed(&quot;Overlay&quot;)</em><br>
This expression returns the speed of the auto-inking.</p>

<p><strong>Get X Position of Overlay</strong><br>
<em>ovlGetXPosition(&quot;Overlay&quot;)</em><br>
This expression returns the X position of the Overlay in the
frame.</p>

<p><strong>Get Y Position of Overlay</strong><br>
<em>ovlGetYPosition(&quot;Overlay&quot;)</em><br>
This expression returns the Y position of the Overlay in the
frame.</p>

<p><strong>Get Width of Overlay</strong><br>
<em>ovlGetWidth(&quot;Overlay&quot;)</em><br>
This expression returns the width of the Overlay.</p>

<p><strong>Get Height of Overlay<br>
</strong><em>ovlGetHeight(&quot;Overlay&quot;)</em><br>
This expression returns the height of the Overlay.</p>

<p><strong>Get Address of Overlay<br>
</strong><em>ovlAddress(&quot;Overlay&quot;)</em><br>
This expression returns the address of the Overlay. This value is
used in selecting specific Overlays.</p>
</body>
</html>
